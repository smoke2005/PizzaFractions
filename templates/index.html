<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pizza Fraction Party ‚Äî Convert & Drag</title>
    <link rel="stylesheet" type="text/css" href="/static/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Indie+Flower&display=swap" rel="stylesheet">
</head> 
<body>
    <div class="pizza-shop-header">üçï Pizza Fraction Party</div>
    <div class="score-display">Score: <span id="score">0</span></div>

    <div class="background-container">
        <div class="main-area">
            <!-- Orders Container -->
            <div class="orders-container">
                <h3>üçï Current Orders</h3>
                <div id="ordersList"></div>
            </div>
            
            <!-- Ingredient Area -->
            <div class="ingredient-area">
                <div class="ingredient-bin" draggable="true" data-emoji="üßÖ">üßÖ</div>
                <div class="ingredient-bin" draggable="true" data-emoji="ü´ë">ü´ë</div>
                <div class="ingredient-bin" draggable="true" data-emoji="üßÄ">üßÄ</div>
                <div class="ingredient-bin" draggable="true" data-emoji="üçÑ">üçÑ</div>
                <div class="ingredient-bin" draggable="true" data-emoji="üçÖ">üçÖ</div>
                <div class="ingredient-bin" draggable="true" data-emoji="ü•ì">ü•ì</div>
                <div class="ingredient-bin" draggable="true" data-emoji="üçó">üçó</div>
                <div class="ingredient-bin" draggable="true" data-emoji="ü´í">ü´í</div>
                <div class="ingredient-bin" draggable="true" data-emoji="üå∂Ô∏è">üå∂Ô∏è</div>
            </div>

            <!-- Pizza Area -->
            <div class="pizza-area">
                <div class="pizza-peel"></div>
                <canvas id="pizzaCanvas" width="300" height="300"></canvas>
                <div class="box">
                    <div id="fractionBox"></div>
                    
                    <!-- LCM Input Section -->
                    <div id="lcmInputArea">
                        <p style="font-size: 1.1em;font-weight: bold;">Into how many equal slices should we cut the pizza?</p>
                        <input type="number" id="lcmInput" placeholder="LCM?" />
                        <button onclick="checkLCM()">Cut Pizza</button>
                    </div>

                    <!-- Conversion Panel -->
                    <div id="convertPanel" style="display:none;">
                        <p style="font-size: 1.1em;font-weight: bold;">Convert fractions to common denominator <strong><span id="denominatorDisplay"></span></strong>:</p>
                        <div style="font-size: 1.1em;">
                            <div>
                                <label><span id="fracNum1"></span>/<span id="fracDen1"></span> = </label>
                                <input type="number" id="convNum1" min="0" style="font-size: 1em;" /> / <span id="convDen1"></span>
                            </div>
                            <div>
                                <label><span id="fracNum2"></span>/<span id="fracDen2"></span> = </label>
                                <input type="number" id="convNum2" min="0" style="font-size: 1em;" /> / <span id="convDen2"></span>
                            </div>
                        </div>
                        <button onclick="checkConversion()">Submit Conversion</button>
                    </div>

                    <!-- Topping Area -->
                    <div id="toppingArea" style="display:none;">
                        <p style="font-size: 1.1em;font-weight: bold;">Drag toppings onto the pizza slices to match the sum fraction.</p>
                        <div id="slicesContainer"></div>
                        <div class="button-group">
                            <button onclick="checkToppings()">Submit Toppings</button>
                            <button onclick="loadQuestion()" id="nextQuestionBtn" style="display:none; margin-left:10px;">Next Question ‚û°Ô∏è</button>
                        </div>
                    </div>
                    <p id="feedback"></p>
                </div>
            </div>

            <!-- Chef Container -->
            <div class="chef-container">
                <img src="/static/chef.png" alt="Pizza Chef" class="chef-image">
                <div class="thought-bubble">
                    <img src="/static/thought-bubble.png" alt="Thought Bubble" style="width: 200px; height: auto;">
                    <div class="thought-bubble-text"
                         style="position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);
                                width:70%;text-align:center;color:#a14c1a;
                                font-family:'Indie Flower',cursive,sans-serif;font-size:1.1em;line-height:1.2;
                                font-weight:bold;">
                        Get your math mitts on!
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Whiteboard Panel -->
    <div class="whiteboard-panel whiteboard-bottom">
        <div class="whiteboard-title">‚úèÔ∏è Whiteboard</div>
        <canvas id="whiteboard-canvas" width="220" height="320"></canvas>
        <div class="whiteboard-controls">
            <button class="whiteboard-btn" id="whiteboard-undo">Undo</button>
            <button class="whiteboard-btn" id="whiteboard-clear">Clear</button>
        </div>
    </div>

    <!-- Celebration Popup -->
    <div id="celebrationPopup" class="celebration-popup" style="display:none;">
        <div class="celebration-content">
            <img src="/static/pizza-dance.gif" alt="Celebration Pizza Dance" class="pizza-dance-gif">
            <h2>Perfect Pizza!</h2>
            <p>You nailed the fractions!</p>
            <button class="celebration-button" onclick="closeCelebration()">Claim 50 Points!</button>
        </div>
    </div>

    <!-- Oven Animation -->
    <div id="ovenAnimation" class="oven-animation">
        <div class="oven-content">
            <img src="/static/pizza-baking.gif" alt="Baking Pizza" class="oven-emoji">
            <h2>Baking in the oven...</h2>
            <p>Checking your pizza perfection!</p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/static/js/pizza-game.js"></script>
    <script src="/static/js/game.js"></script>
</body>
</html>